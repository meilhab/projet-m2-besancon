\documentclass[11pt, a4paper]{report}

\usepackage[frenchb]{babel}
\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
%\usepackage{ucs}
\usepackage{lmodern}
\usepackage{url} % Pour avoir de belles url
\usepackage{geometry}
%\usepackage{slashbox} %backslash dans tableau
\usepackage[table, usenames, dvipsnames]{xcolor} %couleurs
\usepackage{colortbl,hhline}
\usepackage{color}
\usepackage{listings} % Pour mettre du code source
%\usepackage{lscape} %Pour pouvoir passer en paysage
%\usepackage {multicol} %Pour pouvoir faire plusieurs colonnes
%\usepackage{eurosym} %symbole euro
\usepackage{graphicx}
\usepackage{makeidx} %Pour crer un index
%\usepackage{setspace} %Pour l'interligne de 1.5
%\usepackage{shorttoc} %Pour crer un sommaire
%\usepackage{caption}
%\usepackage[font=scriptsize, format=hang]{subcaption}
%\usepackage[babel=true]{csquotes}

%ICI
\usepackage{extensions/picins} %image avec texte a ct
\usepackage[toc,page]{extensions/appendix}
\usepackage{extensions/subfig}
\usepackage{enumitem}

\usepackage{fancyhdr} % Pour les entetes de page
\usepackage[
	pdftex,					% Paramtrage de la navigation
	bookmarks = true,						% Signets
	bookmarksnumbered = true,				% Signets numrots
	pdfpagemode = UseOutlines,						% None, UseThumbs, UseOutlines, Fullscreen
	pdfstartview = Fit,					% FitH, FitV, FitR, FitB, FitBH, FitBV, Fit
	pdfpagelayout = SinglePage,				% SinglePage, OneColumn, TwoColumnLeft, TwoColumnRight
	colorlinks = false,					% Liens en couleur
	urlcolor = black,						% Couleur des liens externes
	pdfborder = {0 0 0}					% Style de bordure : ici, rien
]{hyperref}

\lstset{
	numbers=left,
	numberstyle=\tiny,
%	stepnumber=2,
	numbersep=5pt,
	frame=shadowbox,
	backgroundcolor=\color{grisclair},
	rulesepcolor=\color{gris},
	keywordstyle=\color{darkblue},
	captionpos=b,
	showstringspaces=false,
	numberfirstline=true
}

\lstdefinelanguage{LQL}{
	showspaces=false,
	identifierstyle=\color{black},
	captionpos=b
}

\lstdefinelanguage{JSON}{
	showspaces=false,
	morestring=[b]", %pour les guillemets en bleu
	morecomment=[s]{"?}{?"}, %contenu des guillemets en bleu
	stringstyle=\color{darkblue},
	captionpos=b
}

\lstdefinelanguage{XML}{
	showspaces=false,
	morestring=[b]",
	morestring=[s]{>}{<},
	morecomment=[s]{<?}{?>},
	stringstyle=\color{black},
	identifierstyle=\color{darkblue},
	keywordstyle=\color{cyan},
	morekeywords={id,value,onClick},
	captionpos=b
}

\lstdefinelanguage{plaintext}{
	morekeywords={@}, 
	keywordstyle=\color{darkblue}, 
	captionpos=b
}

\newenvironment{longdescription}
	{\begin{description}[style=unboxed]}
	{\end{description}}

\renewcommand{\labelitemi}{---}
\renewcommand{\labelitemii}{$\star$}

\newcommand\Yuukou{\textit{Yuukou}}
\newcommand\YuukouII{\textit{Yuukou II}}
\newcommand\cad{c'est-\`a-dire}

\renewcommand{\appendixtocname}{Annexes}
\renewcommand{\appendixpagename}{Annexes}

\hypersetup{
	unicode=false,          % non-Latin characters in Acrobat's bookmarks
	pdftoolbar=true,        % show Acrobat's toolbar?
	pdfmenubar=true,        % show Acrobat's menu?
	pdffitwindow=true,     % window fit to page when opened
	pdftitle={Rapport de stage},    % title
	pdfauthor={Meilhac Benoît},     % author
	pdfsubject={Yuukou II},   % subject of the document
	pdfcreator={Meilhac Benoit},   % creator of the document
	pdfproducer={Texlive (pdflatex)}, % producer of the document
	pdfnewwindow=true,      % links in new window
}


\graphicspath{{images/}}
\newcommand{\sommaire}{\shorttoc{Sommaire}{0}}
\makeindex
\definecolor{grisclair}{gray}{0.75}
\definecolor{gris}{gray}{0.5}
\definecolor{orange}{rgb}{1,0.5,0}
\definecolor{vert}{rgb}{0,0.75,0}
\definecolor{darkblue}{rgb}{0.0,0.0,0.6}
\definecolor{cyan}{rgb}{0.0,0.6,0.6}

% Pour les marges de la page
%\geometry{a4paper, top=2.5cm, bottom=3.5cm, left=1.5cm, right=1.5cm, marginparwidth=1.2cm}
\geometry{a4paper}

\parskip=5pt %% distance entre les (paragraphe)
\sloppy %% respecter toujours la marge de droite 

% Pour les pénalités :
\interfootnotelinepenalty=150 %note de bas de page
\widowpenalty=150 %% veuves et orphelines
\clubpenalty=150 

%Pour la longueur de l'indentation des paragraphes
\setlength{\parindent}{15mm}

%%%% debut macro pour enlever le nom chapitre %%%%
\makeatletter
	\def\@makechapterhead#1{%
		\vspace*{50\p@}%
		{\parindent \z@ \raggedright \normalfont
			\interlinepenalty\@M
			\ifnum \c@secnumdepth >\m@ne
			\Huge\bfseries \thechapter\quad
			\fi
			\Huge \bfseries #1\par\nobreak
			\vskip 40\p@
		}}

	\def\@makeschapterhead#1{%
		\vspace*{50\p@}%
		{\parindent \z@ \raggedright
			\normalfont
			\interlinepenalty\@M
			\Huge \bfseries  #1\par\nobreak
			\vskip 40\p@
		}
	}
\makeatother
%%%% fin macro %%%%

\begin{document}
\pagestyle{empty}
\input{PageTitre}

\pagenumbering{Roman} 
\setcounter{page}{1} 

\input{Remerciements}

\tableofcontents
\clearpage

\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}} 
\renewcommand{\sectionmark}[1]{\markright{#1}} 
\pagenumbering{arabic} 
\setcounter{page}{1} 

\input{Introduction}

\input{Presentation}

\input{Sujet}

\input{Cahier}

\input{ServiceWeb}

\input{MiseEnOeuvre}

\input{Bilan}

\input{Conclusion}

%%%%%----------------------------------------
%%%%% Pour la bibliographie
%%%%%----------------------------------------
%%%%% Citer tous les ouvrages/rfrences
\nocite{*}
%%%%% Trier par ordre d'apparition
\bibliographystyle{unsrt}
%%%%% Pour le style de la biblio
%\bibliographystyle{plain}
%%%%% Ecrire la biblio ici
\bibliography{Bibliographie}
\addcontentsline{toc}{chapter}{Bibliographie}

%\printindex

%\appendix

\input{Glossaire}

\input{Annexes}

\addcontentsline{toc}{chapter}{Table des figures}
\listoffigures

\clearpage

\addcontentsline{toc}{chapter}{Liste des tableaux}
\listoftables

\clearpage

\input{Resume}

\end{document}
